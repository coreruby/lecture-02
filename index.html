<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Introduction to Ruby</title>
    <meta content="" name="description" />
    <meta content="" name="author" />
    <link href="css/reveal.css" rel="stylesheet" />
    <link href="css/simple.css" rel="stylesheet" />
    <link href="css/googlecode.css" rel="stylesheet" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section class="center" data-background="#000">
  <h1 class="white">
    Methods
  </h1>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    We have a facebook group!
  </p>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    Which is really funny, cause I ain't got one
  </p>
</section>
<section class="center">
  <img class="inline" src="img/troll.png" />
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    The class has a website
  </p>
  <p>
    <a href="http://coreruby.github.io">http://coreruby.github.io</a>
  </p>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    The first lecture is already online
  </p>
  <ul>
    <li>
      <a href="http://coreruby.github.io/lecture-01">http://coreruby.github.io/lecture-01</a>
    </li>
  </ul>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    The website and the lectures are open source
  </p>
  <ul>
    <li>
      <a href="https://github.com/coreruby">https://github.com/coreruby</a>
    </li>
  </ul>
</section>
<section class="center">
  <p>
    I need your help
  </p>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    Send a pull request for a typo
  </p>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    Send a pull request for a better explanation
  </p>
</section>
<section>
  <h2>
    Prelude
  </h2>
  <p>
    Send a pull request for everything
  </p>
</section>
<section class="center" data-background="#000">
  <p>
    <img class="inline" src="https://avatars1.githubusercontent.com/u/8987550?v=2&amp;s=256" />
  </p>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Defined by the keyword def
  </p>
  <pre><code class="ruby">def eat(food)
  3.times { nom }
end </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can hold local variables
  </p>
  <pre><code class="ruby">def just_hanging_around_creating_local_variables
  a_local_variable = 42
end

>> just_hanging_around_creating_local_variables
=> 42 </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Local variables aren't visible outside the method
  </p>
  <pre><code class="ruby">def just_hanging_around_creating_local_variables
  a_local_variable = 42
end

>> just_hanging_around_creating_local_variables
=> 42
>> a_local_variable
NameError: undefined local variable or method `a_local_variable' for main:Object </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Returns a value
  </p>
  <pre><code class="ruby">def eat(food)
  3.times { nom }
  return :delicious
end

>> eat(:stake)
=> :delicious </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Returns a value early
  </p>
  <pre><code class="ruby">def eat(food)
  return :oh_well if food == :potato

  3.times { nom }
  return :delicious
end

>> eat(:stake)
=> :delicious </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Returns a value implicitly
  </p>
  <pre><code class="ruby">def eat(food)
  3.times { nom }
  :delicious
end

>> eat(:stake)
=> :delicious </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Always returns a value
  </p>
  <pre><code class="ruby">def nothing
end

>> nothing
=> nil </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can take no arguments
  </p>
  <pre><code class="ruby">def make_some_noise
  scream
  shout
  let_it_all_out
end

>> make_some_noise
=> :it_sounds_like_a_cheesy_pop_song_broski </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can take many arguments
  </p>
  <pre><code class="ruby">def eat(first, second, third)
  nom first
  nom second
  nom third
end </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can take any arguments
  </p>
  <pre><code class="ruby">def eat(*meals)
  meals.each { |meal| nom meal }
end

>> eat(:breakfast, :lunch, :dunner)
=> [:breakfast, :lunch, :dinner]

>> eat(:breakfast)
=> [:breakfast] </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    meals is an Array of the given arguments
  </p>
  <pre><code class="ruby">def eat(*meals)
  meals.each { |meal| nom meal }
end

>> eat(:breakfast, :lunch, :dunner)
=> [:breakfast, :lunch, :dinner]

>> eat(:breakfast)
=> [:breakfast] </code></pre>
</section>
<section class="center" data-background="#000">
  <p class="white">
    The name comes from the squashed-bug appearance on many early line printers
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    True story
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Глей с'я ко стаа
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    БРАТ
  </p>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    The splat operator can get a little weird
  </p>
  <pre><code class="ruby">def eat(first, *rest)
  nom first
  rest.each { |meal| nom meal }
end </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Well, that's not so weird
  </p>
  <pre><code class="ruby">def eat(first, *rest)
  nom first
  rest.each { |meal| nom meal }
end

>> eat(:breakfast)
=> [:breakfast]

>> eat(:breakfast, :lunch)
=> [:breakfast, :lunch] </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Well, look at this
  </p>
  <pre class="fragment"><code class="ruby">def eat(*everything_but, the_last_one)
  everything_but.each { |meal| nom meal }
  squash_with_your_face the_last_one
end

>> eat(:potatoes, :chicken, :meatballs, :ice_cream)
=> 0xDEADBEEF

>> eat(:кифтета)
=> 0xDEADBEEF </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Not so weird?
  </p>
  <pre><code class="ruby">def eat(*everything_but, the_last_one)
  everything_but.each { |meal| nom meal }
  squash_with_your_face the_last_one
end

>> eat(:potatoes, :chicken, :meatballs, :ice_cream)
=> 0xDEADBEEF

>> eat(:кифтета)
=> 0xDEADBEEF </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Okay, okay, okay
  </p>
  <pre><code class="ruby">def eat(*everything_but, the_last_one)
  everything_but.each { |meal| nom meal }
  squash_with_your_face the_last_one
end

>> eat(:potatoes, :chicken, :meatballs, :ice_cream)
=> 0xDEADBEEF

>> eat(:кифтета)
=> 0xDEADBEEF </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    You asked for it
  </p>
  <pre><code class="ruby">def eat(first, *in_between, last)
  gently_taste first
  in_between.each { |meal| nom meal }
  squash_with_your_face last
end

>> eat(:potatoes, :ice_cream)
=> ??? </code></pre>
</section>
<section class="center" data-background="#000">
  <blockquote class="white">With powerful operators come messy semantics.</blockquote>
  <p class="white">
    Benjamin Franklin
  </p>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can provide default values for arguments
  </p>
  <pre><code class="ruby">def eat(meal = :bread)
  nom meal
end

>> eat
=> :bread

>> eat :salad
=> :salad </code></pre>
</section>
<section class="center" data-background="#000">
  <blockquote class="white">The default arguments suffer the same splat heart ache.</blockquote>
  <p class="white">
    Marvin Gaye
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Either default the last argument or don't default at all
  </p>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield a block
  </p>
  <pre><code class="ruby">def log(level)
  if level > 0
    message = yield
    puts message
  end
end

>> log(1) { 'FIRE!' }
FIRE!
=> nil

>> log(0) { 'Wha?' }
=> nil </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield a block
  </p>
  <pre><code class="ruby">def log(level)
  if level > 0
    message = yield
    puts message
  end
end

>> log(1) { 'FIRE!' }
FIRE!
=> nil

>> log(0) { 'Wha?' }
=> nil </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can ask if a block is given
  </p>
  <pre><code class="ruby">def log(level, message = nil)
  if level > 0
    puts block_given? ? yield : message
  end
end

>> log(1) do
..   'FIRE!'
.. end
FIRE!
=> nil

>> log(1, 'FIRE!')
FIRE!
=> nil </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield arguments into a block
  </p>
  <pre><code class="ruby">def create(klass)
  yield klass.new
end

>> create Array do |a|
..   a << 42
..   a.include? 42
.. end
=> true </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield many arguments into a block
  </p>
  <pre><code class="ruby">def create(*classes)
  yield classes.map(&:new)
end

>> create Array, Hash do |array, hash|
..   puts array.class, hash.class
.. end
Array
Hash
=> true </code></pre>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield many arguments into a block
  </p>
  <pre><code class="ruby">def create(*classes)
  yield classes.map(&:new)
end

>> create Array, Hash do |array, hash|
..   puts array.class, hash.class
.. end
Array
Hash
=> true

>> create Array, Hash do |array|
..   puts array.class
.. end
Array
=> true </code></pre>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Everything in Ruby is an object
  </p>
</section>
<section>
  <h2>
    Method
  </h2>
  <p>
    Can yield many arguments into a block
  </p>
  <pre><code class="ruby">def create(*classes, &block)
  block.call(*classes.map(&:new))
end

>> create Array, Hash do |array, hash|
..   puts array.class, hash.class
.. end
Array
Hash
=> true

>> create Array, Hash do |array|
..   puts array.class
.. end
Array
=> true </code></pre>
</section>
<section>
  <h2>
    Proc
  </h2>
  <p>
    Block are an instance of the class Proc
  </p>
  <pre><code class="ruby">def create_block(&new_block)
  new_block.class
end

>> create_block { nil }.class
=> Proc </code></pre>
</section>
<section>
  <h2>
    Proc
  </h2>
  <p>
    Can be created manually
  </p>
  <pre><code class="ruby">p = proc { |*args| nil }

>> p.call
=> nil </code></pre>
</section>
<section>
  <h2>
    Proc
  </h2>
  <p>
    Can be created manually
  </p>
  <pre><code class="ruby">p = proc do |*args|
  nil
end

>> p.call
=> nil </code></pre>
</section>
<section>
  <h2>
    Proc
  </h2>
  <p>
    Can be called with #call #[] and #.()
  </p>
  <pre><code class="ruby">p = proc { |*args| nil }

>> p.call
=> nil

>> p[]
=> nil

>> p.()
=> nil </code></pre>
</section>
<section class="center" data-background="#000">
  <p class="white">
    #call
  </p>
</section>
<section>
  <h2>
    Proc#lambda?
  </h2>
  <p>
    There is a special proc called lambda
  </p>
</section>
<section>
  <h2>
    Proc#lambda?
  </h2>
  <p>
    There is a special proc called lambda
  </p>
  <pre><code class="ruby">callable = lambda { |arg| arg }

>> callable.call(arg)
=> nil </code></pre>
</section>
<section>
  <h2>
    Proc#lambda?
  </h2>
  <p>
    There is a special proc called lambda
  </p>
  <pre><code class="ruby">callable = -> arg { arg }

>> callable.call(arg)
=> nil </code></pre>
</section>
<section>
  <h2>
    Proc#lambda?
  </h2>
  <p>
    There is a special proc called lambda
  </p>
  <pre><code class="ruby">callable = -> (arg) { arg }

>> callable.call(arg)
=> nil </code></pre>
</section>
<section class="center" data-background="#000">
  <blockquote class="white">Semantics are important.</blockquote>
  <p class="white">
    Goran Bregovic
  </p>
</section>
<section>
  <h2>
    Proc#lambda?
  </h2>
  <pre><code class="ruby">>> p = proc { |a, b, c| p a, b, c }
=> #<Proc:0x007fd891a9ff30@(irb):6>
>> p.call 1
1
nil
nil
=> [1, nil, nil]
>> l = lambda { |a, b, c| p a, b, c }
=> #<Proc:0x007fd891a86238@(irb):8 (lambda)>
>> l.call 1
ArgumentError: wrong number of arguments (1 for 3) </code></pre>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Next stop
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Functional programming and Enumerable
  </p>
</section>
<section class="center" data-background="#000">
  <p class="white">
    Enumerable#what
  </p>
</section>
<section class="center" data-background="#000">
  <blockquote class="white">PATIENCE YOU MUST HAVE my young padawan.</blockquote>
  <p class="white">
    Radoslav Georgiev
  </p>
</section>
<section class="center">
  <img class="inline" src="img/troll.png" />
</section>
      </div>
    </div>
    <script src="js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script type="text/javascript">
      Reveal.initialize({
        width:  '100%',
        height: '100%',
        margin: 0.05,
        controls: false,
        progress: false,
        history: true,
        center: false,
        rollingLinks: true,
        transition: 'none',
        backgroundTransition: 'none',
        dependencies: [
          {
            src: 'js/highlight.js',
            async: true,
            callback: function() {
              hljs.configure({ languages: ['ruby'] });
              hljs.initHighlightingOnLoad();
            }
          }
        ]
      });
    </script>
  </body>
</html>